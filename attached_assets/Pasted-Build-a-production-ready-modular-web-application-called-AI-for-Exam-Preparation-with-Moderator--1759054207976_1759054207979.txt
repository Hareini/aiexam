Build a production-ready, modular web application called â€œAI for Exam Preparation with Moderatorâ€.

âš™ï¸ Tech stack:
â€“ Frontend: React + Next.js + TypeScript + Tailwind CSS.
â€“ Backend: Node.js + Express (TypeScript).
â€“ Auth: Firebase Authentication (email/password + Google sign-in).
â€“ DB: MongoDB Atlas.
â€“ Cloud storage: Firebase Storage or S3 for media.
â€“ WebRTC + Socket.IO for live video (group study + proctored exams).
â€“ Stripe for payments.
â€“ Integrate my existing project â€œPeapleâ€ (human tutor section) directly for live group discussions and human tutor matching.

ğŸ¯ Minimum Feature Set (MVP):
1. **Authentication**: Use Firebase Auth. After login, create a MongoDB user doc mapping firebaseUid â†’ user details.
2. **Dashboard**: Student profile (name, gender, exams prepared, reviews), topic search, quick stats, â€œNew Exam Preparationâ€ CTA, and Active Groups list.
3. **New Exam Wizard**: Collect exam name, total hours, single/group mode, AI vs Human tutor. If group: generate an 8-char group code, create MongoDB group doc, allow join by code.
4. **AI Tutor (text chat)**: Agentic LLM explains topics in three tiers (summary/core/deep dive), returns a 5-question quiz, generates Mermaid flow diagrams. Save all prompt/responses as â€œMaterialsâ€ in DB.
5. **Timetable upload**: Upload image â†’ OCR â†’ parse schedule â†’ generate suggested study schedule.
6. **Voice recorder + STT**: Record audio, transcribe (Whisper/Deepgram), save transcript. Use transcript to adapt AI tutor responses.
7. **Periodic micro-breaks**: Every 15 minutes show fun fact / mini quiz / puzzle.
8. **Quizzes & gating**: After completing a topic, auto-grade quiz and store score.
9. **Proctored exam**: Full-screen UI with WebRTC camera stream, timer, optional recording, client-side detection (multiple faces/no face). Save proctoring record and flags to MongoDB; moderator queue.
10. **Group study + Human tutor integration**: 
    â€“ For group mode, integrate my â€œPeapleâ€ project directly. 
    â€“ Use Peaple API or embed UI for random video + chat matching and human tutor sessions.
    â€“ Track credit usage (Peas) and charge via Stripe after free limit.
    â€“ If a group member leaves, their questions, AI answers, and shared materials should persist in a MongoDB file for that group.
11. **Moderator dashboard**: Flagged proctoring sessions, watch recordings, ban/suspend users, manage tutors, view reports.
12. **Security**: Consent UI for recordings, encrypt recordings at rest, server-side validation & rate limiting, user deletion/retention policies.

ğŸ—‚ï¸ Deliverables:
â€“ Clean project skeleton with frontend & backend directories, TypeScript, ESLint, Prettier.
â€“ Working Firebase Auth integration with example login/signup pages.
â€“ MongoDB schemas & sample seed data for users, groups, exam plans, materials, proctoring records.
â€“ Example REST API endpoints for key operations (create exam, join group, upload material, start proctor).
â€“ Socket.IO signaling server for WebRTC with example frontend to create/join a room.
â€“ Simple AI integration forwarding chat + context to an LLM (mock or real API key) and saving prompt/response to DB.
â€“ OCR pipeline for timetable images (Tesseract fallback) and a schedule generator endpoint.
â€“ Voice recorder component with upload & STT transcription.
â€“ Mermaid rendering for flow diagrams from LLM output.
â€“ Proctoring detection (multiple faces/no face) client-side with `face-api.js` and upload flags to DB.
â€“ Moderator UI for reviewing flags & recordings.
â€“ Payment integration (Stripe) for Peaple credits with free/pro/enterprise plans and credits deduction.

ğŸ“¡ APIs & Data Contracts:
â€“ Provide a list of REST endpoints (method, path, body, response) for all major features.
â€“ Provide WebSocket events for signaling and group chat.

âœ… Testing & Acceptance:
â€“ Unit tests for backend endpoints.
â€“ Basic E2E test: user can sign up â†’ create a single exam plan â†’ generate a schedule from a sample timetable image â†’ start an AI chat session â†’ record audio & transcribe.

âš ï¸ Non-functional:
â€“ Use environment variables for all keys.
â€“ Provide `.env.example` with required keys.
â€“ Provide README with setup steps, local dev instructions, and deployment hints (Vercel/Render/Heroku + MongoDB Atlas + Firebase).
â€“ Include a short privacy checklist with recommended retention defaults (proctoring recordings 90 days unless deletion requested).

ğŸ’¡ Extra:
â€“ Provide example LLM prompt templates (explain topic, generate quiz, make Mermaid diagram, generate SSML for TTS).
â€“ Provide a simple PoC to generate a video: JSON storyboard frames (text + image prompts), and a backend worker example that creates an mp4 using ffmpeg (assemble slides + TTS).

Output:
â€“ The full scaffold (frontend + backend directories).
â€“ TypeScript code for key files.
â€“ REST API contract table and WebSocket events.
â€“ `.env.example`.
â€“ One end-to-end demo script for QA.

Security: Avoid hard-coding any real API keys; use environment variables.

